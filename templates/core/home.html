{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block content %}

<section class="hero-banner-ud" style="background-image: url('{{ MEDIA_URL }}banners/home_hero.png'); background-size: cover; background-position: center; min-height: 500px; display: flex; align-items: center;">
    <div class="container">
        <div class="col-lg-6">
            <div class="hero-card-floating bg-white p-5 rounded-3 shadow-lg" style="max-width: 550px;">
                <h1 class="fw-bold mb-3 text-dark">{% trans "Master Your Critical Exam." %}</h1>
                <p class="lead mb-4 text-muted">
                    {% trans "Trusted mock tests and live workshops for SAT, JEE, IELTS, and more. Start your journey to success today." %}
                </p>
               <form class="d-flex position-relative shadow-sm rounded-pill overflow-hidden border" action="{% url 'search' %}" method="get">
    <input class="form-control border-0 ps-4 py-3" type="search" name="q" placeholder="What do you want to learn?" required>
    <button class="btn btn-primary px-4 fw-bold" type="submit">
        <i class="bi bi-search"></i>
    </button>
</form>
            </div>
        </div>
    </div>
</section>

<section class="py-5" style="background-color: #f8f9fa;">
    <div class="container">
        
        <div class="row align-items-end mb-4">
            <div class="col-md-8">
                <h5 class="text-warning text-uppercase fw-bold small ls-1 mb-2">
                    <i class="bi bi-fire me-1"></i> {% trans "Hot right now" %}
                </h5>
                <h2 class="fw-bold section-title mb-2">{% trans "Trending Exams" %}</h2>
                <p class="text-muted mb-0" style="max-width: 600px;">
                    {% trans "Join thousands of students acing these exams. These are the most popular choices among your peers this week." %}
                </p>
            </div>
            <div class="col-md-4 text-md-end mt-3 mt-md-0">
                <button class="btn btn-outline-secondary rounded-circle me-2 shadow-sm" onclick="scrollCarousel(-1)" style="width: 45px; height: 45px;">
                    <i class="bi bi-chevron-left"></i>
                </button>
                <button class="btn btn-outline-dark rounded-circle shadow-sm" onclick="scrollCarousel(1)" style="width: 45px; height: 45px;">
                    <i class="bi bi-chevron-right"></i>
                </button>
            </div>
        </div>
     
        <div class="position-relative">
            <div class="d-flex gap-4 overflow-auto pb-4 scroll-smooth no-scrollbar" id="trendingCarousel" style="scroll-snap-type: x mandatory;">
                
                {% for exam in popular_exams %}
                <div class="col-10 col-md-5 col-lg-3 flex-shrink-0" style="scroll-snap-align: start;">
                    <div class="card h-100 border-0 shadow-sm hero-card-floating position-relative hover-lift" style="transition: transform 0.2s;">
                        
                        <div class="position-absolute top-0 start-0 m-3 z-2">
                            <span class="badge bg-warning text-dark shadow-sm fw-bold">
                                <i class="bi bi-trending-up me-1"></i> #{{ forloop.counter }} Trending
                            </span>
                        </div>

                        <div class="ratio ratio-16x9 overflow-hidden rounded-top">
                            {% if exam.thumbnail_image %}
                                <img src="{{ exam.thumbnail_image.url }}" class="object-fit-cover" alt="{{ exam.title }}">
                            {% else %}
                                <div class="bg-secondary d-flex align-items-center justify-content-center text-white">
                                    <i class="bi bi-journal-bookmark fs-1"></i>
                                </div>
                            {% endif %}
                        </div>

                        <div class="card-body p-4 d-flex flex-column">
                            <h5 class="card-title fw-bold text-dark mb-2 text-truncate" title="{{ exam.title }}">
                                {{ exam.title }}
                            </h5>

                            <div class="d-flex align-items-center text-muted small mb-3">
                                <span class="me-3">
                                    <i class="bi bi-bar-chart-fill me-1 text-primary"></i>
                                    {{ exam.mock_test_details.get_level_display }}
                                </span>
                                <span>
                                    <i class="bi bi-people-fill me-1 text-primary"></i>
                                    {{ exam.get_total_enrollments }} {% trans "Enrolled" %}
                                </span>
                            </div>

                            <div class="mt-auto d-flex align-items-center justify-content-between border-top pt-3">
                                <div>
                                    {% if exam.price > 0 %}
                                        <span class="fw-bold text-dark fs-5">₹{{ exam.price }}</span>
                                    {% else %}
                                       <span class="fw text-dark fs-5 text-decoration-line-through">₹{{ exam.price }}</span>  
                                        <span class="fw-bold text-success fs-5">FREE</span>
                                    {% endif %}
                                </div>
                                
                                <a href="{% url 'marketplace:item_detail' exam.slug %}" class="btn btn-primary rounded-pill px-4 fw-bold btn-sm">
                                    {% trans "View Details" %}
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12 text-center py-5 bg-white rounded shadow-sm">
                    <p class="text-muted mb-0">{% trans "Data is accumulating. Check back soon for trending exams!" %}</p>
                </div>
                {% endfor %}

            </div>
            
            <div class="position-absolute top-0 end-0 h-100 w-5 d-none d-lg-block" 
                 style="background: linear-gradient(to left, #f8f9fa, transparent); pointer-events: none;">
            </div>
        </div>
    </div>
</section>

<section class="py-5 bg-light">
    <div class="container">
        <div class="row align-items-center mb-4">
            <div class="col-md-8">
                <h2 class="fw-bold section-title mb-1">Explore Top Categories</h2>
                <p class="text-muted">Find the right path for your career goals.</p>
            </div>
            <div class="col-md-4 text-md-end">
                <a href="#" class="btn btn-outline-dark rounded-pill px-4 fw-bold">All Categories</a>
            </div>
        </div>

        <div class="row g-3">
            {% for cat in categories %}
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{% url 'category_detail' cat.slug %}" class="card h-100 border-0 shadow-sm category-card text-decoration-none">
                    <div class="card-body d-flex align-items-center p-3">
                        
                        <div class="cat-icon-box me-3 rounded-circle d-flex align-items-center justify-content-center fw-bold text-white" 
                             style="width: 45px; height: 45px; background-color: var(--brand-primary); font-size: 1.2rem;">
                            {{ cat.display_name|first|upper }}
                        </div>
                        
                        <div>
                            <h6 class="fw-bold text-dark mb-0">{{ cat.display_name }}</h6>
                            <small class="text-muted" style="font-size: 0.75rem;">Explore Topics</small>
                        </div>

                        <div class="ms-auto text-muted opacity-25">
                            <i class="bi bi-chevron-right"></i>
                        </div>
                    </div>
                </a>
            </div>
            {% empty %}
            <div class="col-12 text-center py-4">
                <p class="text-muted">No categories defined yet.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<style>
    .category-card {
        transition: all 0.3s ease;
        background: white;
    }
    .category-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.08) !important;
        border-color: var(--brand-primary) !important; 
    }
    .category-card:hover .cat-icon-box {
        transform: scale(1.1);
        transition: transform 0.3s;
    }
    /* Optional: Varying gradients for icons if you want random colors, 
       can be done via JS or backend logic. Sticking to brand color for consistency. */
</style>


<section class="section-pad bg-white">
    <div class="container">
        <div class="d-flex justify-content-between align-items-end mb-5">
            <h2 class="fw-bold section-title m-0">{% trans "Explore All Mock Tests" %}</h2>
            <a href="{% url 'explore' %}" class="btn btn-link text-decoration-none fw-bold">{% trans "View full catalog" %} <i class="bi bi-arrow-right"></i></a>
        </div>

        <div class="row g-4">
            {% for item in featured_tests %}
            <div class="col-12 col-md-6 col-lg-3 d-flex align-items-stretch">
                <div class="card w-100 border-0 shadow-sm hover-lift transition-all">
                    <a href="{% url 'marketplace:item_detail' slug=item.slug %}" class="text-decoration-none text-reset d-flex flex-column h-100">
                        <div class="ratio ratio-16x9 overflow-hidden rounded-top">
                            {% if item.thumbnail_image %}
                                <img src="{{ item.thumbnail_image.url }}" class="object-fit-cover" alt="{{ item.title }}">
                            {% else %}
                                <div class="bg-light d-flex align-items-center justify-content-center text-muted">
                                    <i class="bi bi-image fs-1"></i>
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="card-body d-flex flex-column p-3">
                            <h6 class="card-title fw-bold mb-1 line-clamp-2">{{ item.title }}</h6>
                            <p class="text-muted small mb-2">
                                {% if item.categories.first %}{{ item.categories.first.display_name }}{% else %}General{% endif %}
                            </p>
                            
                            <div class="d-flex align-items-center mb-3 small">
                                <span class="fw-bold text-warning me-1">4.8</span>
                                <div class="text-warning me-1">
                                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-half"></i>
                                </div>
                                <span class="text-muted">(500+)</span>
                            </div>

                            <div class="mt-auto pt-2 border-top d-flex justify-content-between align-items-center">
                                <span class="fw-bold text-primary">₹{{ item.price }}</span>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center py-5">
                <p class="text-muted">{% trans "No mock tests available at the moment." %}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section class="section-pad bg-light">
    <div class="container">
        <div class="d-flex justify-content-between align-items-end mb-4">
            <div>
                <h2 class="fw-bold m-0">{% trans "Upcoming Workshops" %}</h2>
                <p class="text-muted mb-0">{% trans "Interactive live sessions with experts" %}</p>
            </div>
             <a href="#" class="btn btn-outline-dark rounded-pill px-4">{% trans "View Schedule" %}</a>
        </div>
        <div class="row g-4">
            {% for item in upcoming_workshops %}
            <div class="col-12 col-md-6 col-lg-3 d-flex align-items-stretch">
                <div class="card w-100 border-0 shadow-sm hover-lift">
                    <a href="{% url 'marketplace:item_detail' slug=item.slug %}" class="text-decoration-none text-reset d-flex flex-column h-100">
                         <div class="ratio ratio-16x9 overflow-hidden rounded-top">
                             {% if item.thumbnail_image %}
                                <img src="{{ item.thumbnail_image.url }}" class="object-fit-cover" alt="{{ item.title }}">
                             {% else %}
                                <div class="bg-secondary d-flex align-items-center justify-content-center text-white">
                                    <i class="bi bi-camera-video fs-1"></i>
                                </div>
                             {% endif %}
                         </div>

                         <div class="card-body d-flex flex-column p-3">
                            <h6 class="card-title fw-bold mb-2">{{ item.title }}</h6>
                            
                            <div class="d-flex align-items-center mb-3">
                                <span class="badge bg-danger bg-opacity-10 text-danger border border-danger px-2 py-1 rounded-pill small">
                                    <span class="spinner-grow spinner-grow-sm me-1" role="status" style="width: 0.5rem; height: 0.5rem;"></span>
                                    {% trans "LIVE" %}
                                </span>
                            </div>
                            
                            <div class="mt-auto pt-2 border-top">
                                <span class="fw-bold">₹{{ item.price }}</span>
                            </div>
                         </div>
                    </a>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center py-5">
                <div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8 col-xl-6">
            
            <h3 class="fw-bold text-dark mb-2">No Workshops Scheduled</h3>
                    <p class="text-muted mb-4 mx-auto" style="max-width: 400px;">
                        We are currently curating our next series of expert-led sessions. Check back soon for updates!
                    </p>

        </div>
    </div>
</div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section class="py-5 border-top bg-light overflow-hidden">
<style>
    /* MASONRY LAYOUT LOGIC - PURE CSS */
    .masonry-container {
        column-count: 1; /* Mobile: 1 column flow */
        column-gap: 1.5rem; /* Gap between columns */
        orphans: 1;
        widows: 1;
    }

    /* Tablet: 2 Columns */
    @media (min-width: 768px) {
        .masonry-container {
            column-count: 2;
        }
    }

    /* Desktop: 3 Columns */
    @media (min-width: 1200px) {
        .masonry-container {
            column-count: 3;
        }
    }

    /* CARD STYLING */
    .testimonial-brick {
        /* CRITICAL: Prevents card from splitting across columns */
        break-inside: avoid-column; 
        -webkit-column-break-inside: avoid;
        page-break-inside: avoid;
        
        margin-bottom: 1.5rem; /* Vertical spacing between bricks within a column */
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid rgba(0,0,0,0.05);
        /* Ensure background is white by default */
        background-color: #fff; 
    }

    .testimonial-brick:hover {
        transform: translateY(-5px);
        box-shadow: 0 1rem 3rem rgba(0,0,0,0.1) !important;
        border-color: transparent;
    }

    .quote-icon {
        font-size: 1.5rem;
        opacity: 0.2;
    }
</style>

<div class="container py-5" style="background-color: #f8f9fa;"> <div class="text-center mb-5">
        <h2 class="fw-bold text-dark">Loved by Students Globally</h2>
        <p class="text-muted col-lg-6 mx-auto">See how our adaptive learning platform is helping students smash their target scores across different exams.</p>
    </div>

    <div class="masonry-container">

        <div class="card testimonial-brick rounded-4 shadow-sm p-4">
            <div class="d-flex justify-content-between mb-3">
                <div class="d-flex align-items-center">
                    <img src="https://randomuser.me/api/portraits/men/32.jpg" class="rounded-circle me-3" style="width: 48px; height: 48px;" alt="Liam">
                    <div>
                        <h6 class="fw-bold mb-0 text-dark">Liam Thompson</h6>
                        <span class="badge bg-primary-subtle text-primary rounded-pill">SAT 1540</span>
                    </div>
                </div>
                <i class="bi bi-quote quote-icon text-primary"></i>
            </div>
            <div class="mb-3 text-warning small">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
            </div>
            <p class="text-muted small mb-0">"I've used Khan Academy and Princeton Review, but this platform's UI is the closest thing to the actual Digital SAT Bluebook app. I used to panic about the on-screen timer, but practicing here fixed my pacing issues completely. The 'Hard' module simulations are brutal but necessary."</p>
        </div>

        <div class="card testimonial-brick rounded-4 shadow-sm p-4">
            <div class="d-flex justify-content-between mb-3">
                <div class="d-flex align-items-center">
                     <div class="rounded-circle bg-dark text-white d-flex align-items-center justify-content-center fw-bold me-3" style="width: 48px; height: 48px;">R</div>
                    <div>
                        <h6 class="fw-bold mb-0 text-dark">Rajesh K.</h6>
                        <span class="badge bg-dark-subtle text-dark rounded-pill">GMAT Focus</span>
                    </div>
                </div>
            </div>
             <div class="mb-3 text-warning small">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
            </div>
            <p class="text-muted small mb-0">"The Data Insights drills are exactly what I needed. Hit my target score of 715."</p>
        </div>

        <div class="card testimonial-brick rounded-4 shadow-sm p-4">
            <div class="d-flex justify-content-between mb-3">
                <div class="d-flex align-items-center">
                    <div class="rounded-circle bg-danger text-white d-flex align-items-center justify-content-center fw-bold me-3" style="width: 48px; height: 48px;">P</div>
                    <div>
                        <h6 class="fw-bold mb-0 text-dark">Priya Sharma</h6>
                        <span class="badge bg-danger-subtle text-danger rounded-pill">JEE 99.4%ile</span>
                    </div>
                </div>
                <i class="bi bi-quote quote-icon text-danger"></i>
            </div>
             <div class="mb-3 text-warning small">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
            </div>
            <p class="text-muted small mb-0">"Physics questions here are slightly harder than the actual JEE Mains, which is perfect. If you can solve these, the real paper feels like a breeze. The error analysis dashboard showed me I was losing marks in Optics, which I fixed in a week."</p>
        </div>

        <div class="card testimonial-brick rounded-4 shadow-sm p-4">
            <div class="d-flex justify-content-between mb-3">
                <div class="d-flex align-items-center">
                     <img src="https://randomuser.me/api/portraits/women/91.jpg" class="rounded-circle me-3" style="width: 48px; height: 48px;" alt="User">
                    <div>
                        <h6 class="fw-bold mb-0 text-dark">Anika Weber</h6>
                        <span class="badge bg-info-subtle text-info rounded-pill">GRE Germany</span>
                    </div>
                </div>
            </div>
             <div class="mb-3 text-warning small">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-half"></i>
            </div>
            <p class="text-muted small mb-0">"As a non-native English speaker applying for Masters in Germany, the GRE Verbal section terrified me. Rote memorization flashcards weren't working. The contextual vocabulary builder tool on this platform is vastly superior—it actually teaches you how sophisticated words are used in dense, academic passages. Managed a 162V and 168Q!"</p>
        </div>

        <div class="card testimonial-brick rounded-4 shadow-sm p-4"> <div class="d-flex justify-content-between mb-3">
                <div class="d-flex align-items-center">
                    <img src="https://randomuser.me/api/portraits/women/12.jpg" class="rounded-circle me-3" style="width: 48px; height: 48px;" alt="Sarah">
                    <div>
                        <h6 class="fw-bold mb-0 text-dark">Sarah Jenkins</h6>
                        <span class="badge bg-secondary-subtle text-secondary rounded-pill">Parent</span>
                    </div>
                </div>
            </div>
             <div class="mb-3 text-warning small">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
            </div>
            <p class="text-muted small mb-0">"Bought this for my daughter. The dashboard helps me track her progress without nagging her. Worth every penny."</p>
        </div>

        <div class="card testimonial-brick rounded-4 shadow-sm p-4">
            <div class="d-flex justify-content-between mb-3">
                <div class="d-flex align-items-center">
                    <div class="rounded-circle bg-purple text-white d-flex align-items-center justify-content-center fw-bold me-3" style="width: 48px; height: 48px; background-color: #6f42c1;">D</div>
                    <div>
                        <h6 class="fw-bold mb-0 text-dark">Dev Patel</h6>
                        <span class="badge bg-purple-subtle text-purple rounded-pill" style="color: #6f42c1; background-color: #e2d9f3;">SDE Prep</span>
                    </div>
                </div>
            </div>
             <div class="mb-3 text-warning small">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
            </div>
            <p class="text-muted small mb-0">"The DSA patterns course is gold. Cleared the Amazon OA last week. Thanks!"</p>
        </div>

        <div class="card testimonial-brick rounded-4 shadow-sm p-4">
            <div class="d-flex justify-content-between mb-3">
                <div class="d-flex align-items-center">
                    <img src="https://randomuser.me/api/portraits/women/65.jpg" class="rounded-circle me-3" style="width: 48px; height: 48px;" alt="Wei">
                    <div>
                        <h6 class="fw-bold mb-0 text-dark">Wei Chen</h6>
                        <span class="badge bg-info-subtle text-info rounded-pill">TOEFL 112</span>
                    </div>
                </div>
                <i class="bi bi-quote quote-icon text-info"></i>
            </div>
             <div class="mb-3 text-warning small">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
            </div>
            <p class="text-muted small mb-0">"The listening section covers various accents (British, Australian) just like the real test. Great for exposure!"</p>
        </div>

        <div class="card testimonial-brick rounded-4 shadow-sm p-4">
            <div class="d-flex justify-content-between mb-3">
                <div class="d-flex align-items-center">
                     <img src="https://randomuser.me/api/portraits/men/55.jpg" class="rounded-circle me-3" style="width: 48px; height: 48px;" alt="User">
                    <div>
                        <h6 class="fw-bold mb-0 text-dark">Dr. Omar F.</h6>
                        <span class="badge bg-success-subtle text-success rounded-pill">PLAB Part 1 (UK)</span>
                    </div>
                </div>
            </div>
             <div class="mb-3 text-warning small">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
            </div>
            <p class="text-muted small mb-0">"Preparing for the PLAB was daunting. The vast question bank here, especially the ethics scenarios, is unparalleled. The best part is that the explanations don't just give the right answer, they explain precisely *why* the other options are wrong, which is critical for clinical reasoning questions. Passed on my first attempt."</p>
        </div>

        <div class="card testimonial-brick rounded-4 shadow-sm p-4">
            <div class="d-flex justify-content-between mb-3">
                <div class="d-flex align-items-center">
                    <img src="https://randomuser.me/api/portraits/women/44.jpg" class="rounded-circle me-3" style="width: 48px; height: 48px;" alt="Elena">
                    <div>
                        <h6 class="fw-bold mb-0 text-dark">Elena Rossi</h6>
                        <span class="badge bg-success-subtle text-success rounded-pill">IELTS Band 8.0</span>
                    </div>
                </div>
                <i class="bi bi-quote quote-icon text-success"></i>
            </div>
             <div class="mb-3 text-warning small">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-half"></i>
            </div>
            <p class="text-muted small mb-0">"The AI grading for the writing section is magic. It corrected my grammar instantly. I needed a 7.5 for Canada PR but got an 8.0!"</p>
        </div>

        <div class="card testimonial-brick rounded-4 shadow-sm p-4">
            <div class="d-flex justify-content-between mb-3">
                <div class="d-flex align-items-center">
                    <div class="rounded-circle bg-success text-white d-flex align-items-center justify-content-center fw-bold me-3" style="width: 48px; height: 48px;">A</div>
                    <div>
                        <h6 class="fw-bold mb-0 text-dark">Arjun V.</h6>
                        <span class="badge bg-success-subtle text-success rounded-pill">NEET UG</span>
                    </div>
                </div>
                <i class="bi bi-quote quote-icon text-success"></i>
            </div>
             <div class="mb-3 text-warning small">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-half"></i>
            </div>
            <p class="text-muted small mb-0">"I was struggling with Biology memorization. The NCERT-based drills here are strictly within syllabus and highly repetitive in a good way. It helped me revise the entire Botany section in the last 2 weeks before the exam."</p>
        </div>

        <div class="card testimonial-brick rounded-4 shadow-sm p-4">
            <div class="d-flex justify-content-between mb-3">
                <div class="d-flex align-items-center">
                     <img src="https://randomuser.me/api/portraits/men/22.jpg" class="rounded-circle me-3" style="width: 48px; height: 48px;" alt="User">
                    <div>
                        <h6 class="fw-bold mb-0 text-dark">Kenji T.</h6>
                        <span class="badge bg-secondary-subtle text-secondary rounded-pill">O-Level Math</span>
                    </div>
                </div>
            </div>
             <div class="mb-3 text-warning small">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
            </div>
            <p class="text-muted small mb-0">"The step-by-step video solutions helped me finally understand trigonometry concepts I struggled with in class for months. My grades improved from a C to an A."</p>
        </div>

    </div>
</div>
</section>



<section class="py-5 position-relative overflow-hidden text-white" style="background-color: #737680; min-height: 500px;">
    
    <div class="position-absolute top-0 start-0 w-100 h-100" 
         style="opacity: 0.15; background-image: url('https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg'); background-size: contain; background-repeat: no-repeat; background-position: center;">
    </div>

    <div class="container  z-2 h-100 d-flex flex-column justify-content-center align-items-center text-center py-5">
        <span class="badge  bg-opacity-25  border border-info px-3 py-2 rounded-pill mb-3" style="background-color: var(--brand-dark);">
            <i class="bi bi-globe-americas me-2"></i>GLOBAL COMMUNITY
        </span>
        <h2 class="display-5 text-white fw-bold mb-4">Learning has no borders</h2>
        <p class="lead text-bold mb-5" style="max-width: 600px;">
            Join over <strong>15,000+ students</strong> from <strong>25+ countries</strong> preparing for their future on ExamForEverybody.
        </p>

        <div class="row w-100 justify-content-center g-4 mt-2">
            <div class="col-4 col-md-2">
                <h3 class="fw-bold mb-0 text-white">50k+</h3>
                <small class="text-white-50">Tests Taken</small>
            </div>
            <div class="col-4 col-md-2">
                <h3 class="fw-bold mb-0 text-white">120+</h3>
                <small class="text-white-50">Expert Tutors</small>
            </div>
            <div class="col-4 col-md-2">
                <h3 class="fw-bold mb-0 text-white">4.8/5</h3>
                <small class="text-white-50">Average Rating</small>
            </div>
        </div>

        <div class="mt-5">
            <a href="{% url 'student_signup' %}" class="btn btn-primary btn-lg rounded-pill px-5 shadow-lg fw-bold" style="background-color: var(--brand-dark);">
                Join the Community
            </a>
        </div>
    </div>

    <div class="map-dot" style="top: 35%; left: 22%;"></div> <div class="map-dot" style="top: 38%; left: 26%;"></div> <div class="map-dot" style="top: 65%; left: 30%;"></div> <div class="map-dot" style="top: 30%; left: 50%;"></div> <div class="map-dot" style="top: 32%; left: 52%;"></div> <div class="map-dot" style="top: 45%; left: 68%;"></div> <div class="map-dot" style="top: 48%; left: 70%;"></div> <div class="map-dot" style="top: 40%; left: 80%;"></div> <div class="map-dot" style="top: 75%; left: 85%;"></div> </section>

<style>
    .map-dot {
        position: absolute;
        width: 10px;
        height: 10px;
        background-color: var(--brand-dark); /* Cyan */
        border-radius: 50%;
        box-shadow: 0 0 0 rgba(13, 202, 240, 0.4);
        animation: pulse-blue 2s infinite;
        z-index: 1;
    }

    /* Animation for the pulsing effect */
    @keyframes pulse-blue {
        0% {
            transform: scale(0.95);
            box-shadow: 0 0 0 0 rgba(13, 202, 240, 0.7);
        }
        70% {
            transform: scale(1);
            box-shadow: 0 0 0 15px rgba(13, 202, 240, 0);
        }
        100% {
            transform: scale(0.95);
            box-shadow: 0 0 0 0 rgba(13, 202, 240, 0);
        }
    }
</style>
<style>
    /* --- Marquee Animation --- */
    .marquee-wrapper {
        width: 100%;
        overflow: hidden;
        white-space: nowrap;
        position: relative;
    }
    .marquee-content {
        display: inline-flex;
    }
    .review-card {
        width: 350px;
        background: white;
        border-radius: 16px;
        flex-shrink: 0;
    }
    .scroll-left { animation: scrollLeft 40s linear infinite; }
    .scroll-right { animation: scrollRight 45s linear infinite; }

    @keyframes scrollLeft {
        0% { transform: translateX(0); }
        100% { transform: translateX(-50%); }
    }
    @keyframes scrollRight {
        0% { transform: translateX(-50%); }
        100% { transform: translateX(0); }
    }

    /* --- Map Pins & Tooltips --- */
    .map-pin {
        position: absolute;
        z-index: 10;
        cursor: pointer;
    }
    .pin-pulse {
        width: 12px; height: 12px;
        background: #0dcaf0;
        border-radius: 50%;
        box-shadow: 0 0 0 rgba(13, 202, 240, 0.4);
        animation: pulse 2s infinite;
    }
    .pin-tooltip {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%) translateY(10px);
        background: white;
        padding: 8px 12px;
        border-radius: 8px;
        width: 160px;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        pointer-events: none;
    }
    .pin-tooltip::after {
        content: ''; position: absolute; top: 100%; left: 50%; margin-left: -5px;
        border-width: 5px; border-style: solid; border-color: white transparent transparent transparent;
    }
    
    /* Show Tooltip on Hover */
    .map-pin:hover .pin-tooltip {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(0);
    }

    @keyframes pulse {
        0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(13, 202, 240, 0.7); }
        70% { transform: scale(1); box-shadow: 0 0 0 15px rgba(13, 202, 240, 0); }
        100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(13, 202, 240, 0); }
    }
</style>
<style>
    .category-card {
        border-radius: 12px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        background: white;
    }

    .category-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 24px rgba(0,0,0,0.1) !important;
    }

    .transition-scale {
        transition: transform 0.5s ease;
    }

    .category-card:hover .transition-scale {
        transform: scale(1.08);
    }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    .hover-lift:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.08) !important; }
    .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
   .custom-scrollbar::-webkit-scrollbar { width: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: #ccc; border-radius: 3px; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #aaa; }

    /* List Item Styling */
    .list-group-item { border: none; border-left: 4px solid transparent; background: transparent; }
    .list-group-item:hover { background-color: #fff; border-left-color: #dee2e6; }
    
    /* Active State */
    .list-group-item.active {
        background-color: #fff;
        color: var(--brand-primary);
        border-color: transparent;
        border-left-color: var(--brand-primary);
        box-shadow: 0 2px 15px rgba(0,0,0,0.05);
        z-index: 2;
    }
    .list-group-item.active .icon-wrapper { background-color: var(--brand-primary) !important; color: white !important; }
    .list-group-item.active .subtitle-text { color: var(--brand-primary) !important; opacity: 0.8; }

    /* Card Hover Effect */
    .hover-card { transition: all 0.3s ease; }
    .hover-card:hover {
        transform: translateY(-5px);
        background-color: #fff !important;
        box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        border-color: var(--brand-primary) !important;
    }
</style>

<script>
    function scrollCarousel(direction) {
        const container = document.getElementById('trendingCarousel');
        const cardWidth = container.querySelector('.col-10').offsetWidth + 24; // Card width + gap
        container.scrollBy({ left: direction * cardWidth, behavior: 'smooth' });
    }
</script>

{% endblock %}